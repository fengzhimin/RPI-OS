
.globl start_MMU
start_MMU:
	mov r2, #0
	mcr p15,0,r2,c7,c7,0
	mcr p15,0,r2,c8,c7,0
	mcr p15,0,r2,c7,c10,4

	mvn r2,#0
	bic r2,#0xC
	mcr p15,0,r2,c3,c0,0
	
	mcr p15,0,r0,c2,c0,0
	mcr p15,0,r0,c2,c0,1

	mcr p15,0,r2,c1,c0,0
	orr r2,r2,r1
	mcr p15,0,r2,c1,c0,0

	bx lr




	// Call kernel_main
	ldr r3, =kernel_main
	blx r3
